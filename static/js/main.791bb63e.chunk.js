(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{157:function(e,t,a){"use strict";a.r(t);var n,r=a(0),o=a.n(r),i=a(19),s=a.n(i),c=(a(65),a(26)),l=a(31),v=a.n(l),u=a(49),m=a(50),f=a(51),d=a(58),g=a(52),p=a(59),w=a(57),h=a(32),b=a(10),y=a.n(b),E=a(53),k=a.n(E),j=a(55),O=a.n(j),N=a(56),x=a.n(N),D=(a(68),function(e){var t=e.title;return o.a.createElement("h1",{className:"Title"}," ",t," ")}),S=function(e){var t=e.overview;return o.a.createElement("div",{className:"Overview"}," ",t," ")},C=function(e){var t=e.voteAvg;return o.a.createElement("div",{className:"VoteAvg"}," Rating: ",t," ")},T=function(e){var t=e.releaseDate;return o.a.createElement("div",{className:"ReleaseDate"}," Date: ",t," ")},_={display:"flex"},B=(n={position:"-webkit-sticky"},Object(h.a)(n,"position","sticky"),Object(h.a)(n,"top",0),n),A=function(e){var t=Object(r.useState)(!1),a=Object(w.a)(t,2),n=a[0],i=a[1];return o.a.createElement(k.a,{className:"Movie-Card",style:_},o.a.createElement("img",{className:"Poster",sizes:"(max-width:342px) 200px, (min-width:342px) 20em",srcSet:"https://image.tmdb.org/t/p/w342".concat(e.poster," 280w, \n                     https://image.tmdb.org/t/p/w500").concat(e.poster," 500w"),alt:e.title}),o.a.createElement(O.a,{style:{flexGrow:1},className:"Movie-Card-Info"},o.a.createElement(D,{title:e.title}),o.a.createElement(C,{voteAvg:e.voteAvg}),o.a.createElement(T,{releaseDate:e.releaseDate}),o.a.createElement(S,{overview:e.overview})),o.a.createElement(x.a,{onClick:function(){return function(e,t){return i(!e),t.toggleFave(t.title)}(n,e)}},o.a.createElement(y.a,{className:"favorite",color:n?"secondary":"primary",variant:"contained"}," favorite/unfavorite ")))},M=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(g.a)(t).call(this,e))).loadMovies=function(){var e=Object(u.a)(v.a.mark(function e(t){var n,r,o;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.themoviedb.org/3/movie/now_playing?api_key=".concat(t,"&language=en-US"));case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.next=8,r.results;case 8:o=e.sent,a.setState({movies:o});case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.addRemoveFave=function(e){var t=Object(c.a)(a.state.favorited),n=t.findIndex(function(t){return t.title===e});n>=0?t.splice(n,1):t.push(a.state.movies.find(function(t){return t.title===e})),a.setState({favorited:t})},a.state={sortBy:"None",favoriteToggle:!1,favorited:[],movies:[]},a}return Object(p.a)(t,e),Object(f.a)(t,[{key:"componentWillMount",value:function(){this.loadMovies("7bfe007798875393b05c5aa1ba26323e")}},{key:"render",value:function(){var e,t=this;return(e=this.state.favoriteToggle?Object(c.a)(this.state.favorited):Object(c.a)(this.state.movies)).sort(function(e,a){switch(t.state.sortBy){case"rating":return Number(e.vote_average)-Number(a.vote_average);case"title":return e.title.toUpperCase()<a.title.toUpperCase()?-1:1;case"releaseDate":default:return new Date(e.release_date)-new Date(a.release_date)}}),o.a.createElement("div",{className:"MovieApp"},o.a.createElement("div",{className:"button-bar",style:B},o.a.createElement(y.a,{variant:"contained",onClick:function(){return t.setState({sortBy:"rating"})}}," Rating "),o.a.createElement(y.a,{variant:"contained",onClick:function(){return t.setState({sortBy:"releaseDate"})}}," Release Date "),o.a.createElement(y.a,{variant:"contained",onClick:function(){return t.setState({sortBy:"title"})}}," Title "),o.a.createElement(y.a,{variant:"contained",color:this.state.favoriteToggle?"secondary":"primary",onClick:function(){return t.state.favoriteToggle?t.setState({favoriteToggle:!1}):t.setState({favoriteToggle:!0})}}," favorited: ",this.state.favoriteToggle.toString()," ")),e.map(function(e){return o.a.createElement(A,{key:e.id,poster:e.poster_path,title:e.title,overview:e.overview,voteAvg:e.vote_average,releaseDate:e.release_date,toggleFave:t.addRemoveFave})}))}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(o.a.createElement(M,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},60:function(e,t,a){e.exports=a(157)},65:function(e,t,a){},68:function(e,t,a){}},[[60,1,2]]]);
//# sourceMappingURL=main.791bb63e.chunk.js.map